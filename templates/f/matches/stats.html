<html>
    <head>
        <title>Match Stats</title>
        <link rel="stylesheet" href="/static/css/match/stats.css" type="text/css" media="screen" />
    </head>
    <body>
        <div class="content">
            <h1>Match Stats</h1>
            {% for team in match.teams %}
                <div class="team">
                    <p>{{ team.name }}: {{ team.score }}</p>
                    <div class="players">
                        {% for player_stats in team.players %}
                            {% set player = player_stats.player %}
                            {% set stats = player_stats.stats %}
                            {% set name = player.first + ' ' + player.last %}
                            <div class="player"
                                 data-num-correct="{{ stats.correct.total }}"
                                 data-num-incorrect="{{ stats.incorrect.total }}"
                                 data-num-total="{{ stats.total }}"
                                 data-percent-correct="{{ stats.percent }}">
                                {{ name }}
                                {{ stats.correct['total'] }} / {{ stats.total }} ({{ stats.percent }}%)
                                <div class="flot"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}

            <div class="stats">
                <p><span>Number of questions:</span>{{ match.questions | count }}
            </div>
        </div>

        <!-- libraries -->
        <script type="text/javascript" src="/static/js/lib/jquery-1.7.1.min.js"></script>
        <script type="text/javascript" src="/static/js/lib/underscore-min.js"></script>
        <script type="text/javascript" src="/static/js/lib/jquery.flot.min.js"></script>
        <script type="text/javascript" src="/static/js/lib/jquery.flot.pie.min.js"></script>
        <script type="text/javascript" src="/static/js/match/stats.js"></script>
    </body>
</html>
